{% extends "FTFSCrudBundle:Crud:index_content.html.twig" %}

{% block thead %}
    <th>{{ 'ftfs.servicebundle.servicerequest.table.name' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.status' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.last.modified.at' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.service.requested' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.requested.by' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.requested.at' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.requested.via' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.assigned.to' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.asset.name' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.service.deployed' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.summary' | trans({}, 'crud') }}</th>
    <th>{{ 'ftfs.servicebundle.servicerequest.table.detail' | trans({}, 'crud') }}</th>
{% endblock %}

{% block operations %}
    <a href="{{ path(prefix~'_show', { 'id' : entity.id }) }}" rel="tooltip" title="{{ 'ftfs.crud.table.action.show.tooltip'|trans({}, 'crud') }}">
        <i class="icon-eye-open"></i>
    </a>
    {% if entity.status in ['unsent', 'rejected'] %}
        <a href="{{ path(prefix~'_edit', { 'id' : entity.id }) }}" rel="tooltip" title="{{ 'ftfs.crud.table.action.edit.tooltip'|trans({}, 'crud') }}">
            <i class="icon-pencil"></i>
        </a>
        {% if removable is defined and removable %}
        <a href="{{ path(prefix~'_delete', { 'id' : entity.id }) }}" rel="tooltip" title="{{ 'ftfs.crud.table.action.delete.tooltip'|trans({}, 'crud') }}">
            <i class="icon-trash"></i>
        </a>
        {% endif %}
    {% endif %}
{% endblock %}

{% block tbody %}
    <td>{{ entity.name }}</td>
    <td><span class="{{ (prefix~'_table_status_'~entity.status~'_class')|replace('_', '.')|trans({}, 'crud') }}">{{ (prefix~'_table_status_'~entity.status)|replace('_', '.')|trans({}, 'crud') }}</span></td>
    <td>{{ entity.lastModifiedAt | date('Y-m-d H:i:s') }}</td>
    <td>{{ entity.serviceRequested }}</td>
    <td>{{ entity.requestedBy }}</td>
    <td>{{ entity.requestedAt | date('Y-m-d H:i:s') }}</td>
    <td>{{ entity.requestedVia }}</td>
    <td>{{ entity.assignedTo }}</td>
    <td>{{ entity.assetName }}</td>
    <td>{{ entity.serviceDeployed }}</td>
    <td>{{ entity.summary }}</td>
    <td>{{ entity.detail }}</td>
{% endblock %}
