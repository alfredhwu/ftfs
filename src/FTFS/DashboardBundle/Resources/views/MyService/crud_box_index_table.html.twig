{% extends 'FTFSCrudBundle:Crud:crud_box_index_table.html.twig' %}


{% block thead %}
    <th class="tight">{{ ('ftfs.servicebundle.serviceticket.table.name') | trans({}, 'crud') }}</th>
    <th class="tight">{{ ('ftfs.servicebundle.serviceticket.table.status.title') | trans({}, 'crud') }}</th>
    <th class="tight">{{ ('ftfs.servicebundle.serviceticket.table.severity.title') | trans({}, 'crud') }}</th>
    <th class="tight">{{ ('ftfs.servicebundle.serviceticket.table.priority.title') | trans({}, 'crud') }}</th>
    <th class="extend">{{ ('ftfs.servicebundle.serviceticket.table.summary') | trans({}, 'crud') }}</th>
    {% if not is_granted('ROLE_CLIENT') %}
    <th>{{ ('ftfs.servicebundle.serviceticket.table.assigned.to') | trans({}, 'crud') }}</th>
    {% endif %}
    <th>{{ ('ftfs.servicebundle.serviceticket.table.requested.by') | trans({}, 'crud') }}</th>
    <th>{{ ('ftfs.servicebundle.serviceticket.table.service') | trans({}, 'crud') }}</th>
    <th>{{ ('ftfs.servicebundle.serviceticket.table.last.modified.at') | trans({}, 'crud') }}</th>
    {#
    <th>{{ ('ftfs.servicebundle.serviceticket.table.request.received.at') | trans({}, 'crud') }}</th>
    <th>{{ ('ftfs.servicebundle.serviceticket.table.detail') | trans({}, 'crud') }}</th>
    <th>{{ ('ftfs.servicebundle.serviceticket.table.asset.name') | trans({}, 'crud') }}</th>
    <th>{{ ('ftfs.servicebundle.serviceticket.table.opened.at') | trans({}, 'crud') }}</th>
    <th>{{ ('ftfs.servicebundle.serviceticket.table.resolved.at') | trans({}, 'crud') }}</th>
    <th>{{ ('ftfs.servicebundle.serviceticket.table.closed.at') | trans({}, 'crud') }}</th>
    #}
{% endblock %}

{% block tbody %}
    <td class="tight">{{ entity.name }}</td>
    <td class="tight"><span class="{{ ('ftfs.servicebundle.serviceticket.table.status.'~entity.status~'.class')|trans({}, 'crud') }}">{{ ('ftfs.servicebundle.serviceticket.table.status.'~entity.status)|trans({}, 'crud') }}</span></td>
    <td class="tight"><span class="{{ ('ftfs.servicebundle.serviceticket.table.severity.'~entity.severity~'.class')|trans({}, 'crud') }}">{{ ('ftfs.servicebundle.serviceticket.table.severity.'~entity.severity)|trans({}, 'crud') }}</td>
    <td class="tight"><span class="{{ ('ftfs.servicebundle.serviceticket.table.priority.'~entity.priority~'.class')|trans({}, 'crud') }}">{{ ('ftfs.servicebundle.serviceticket.table.priority.'~entity.priority)|trans({}, 'crud') }}</td>
    <td class="extend">{{ entity.summary }}</td>
    {% if not is_granted('ROLE_CLIENT') %}
    <td>{{ entity.assignedTo }}</td>
    {% endif %}
    <td>{{ entity.requestedBy }}</td>
    <td>{{ entity.service }}</td>
    <td>{% if entity.lastModifiedAt is not empty %}{{ entity.lastModifiedAt | date('Y-m-d H:i:s') }}{% endif %}</td>
    {#
    <td>{% if entity.lastModifiedAt is not empty %}{{ entity.requestReceivedAt | date('Y-m-d H:i:s') }}{% endif %}</td>
    <td>{{ entity.detail }}</td>
    <td>{{ entity.assetName }}</td>
    <td>{% if entity.lastModifiedAt is not empty %}{{ entity.openedAt | date('Y-m-d H:i:s') }}{% endif %}</td>
    <td>{% if entity.lastModifiedAt is not empty %}{{ entity.resolvedAt | date('Y-m-d H:i:s') }}{% endif %}</td>
    <td>{% if entity.lastModifiedAt is not empty %}{{ entity.closedAt | date('Y-m-d H:i:s') }}{% endif %}</td>
    #}
{% endblock %}
